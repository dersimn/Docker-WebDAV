<VirtualHost *:80>
    DocumentRoot /webdav

    # Lock File (LOCK/UNLOCK)
    DavLockDB /webdav.lock

    <Directory /webdav>
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted

        # WebDAV
        Dav On
        
        # Auth
        AuthType Digest
        AuthName webdav_user
        AuthUserFile /webdav.password
        Require valid-user

        # Read/Write only for authenticated users
        <LimitExcept GET HEAD OPTIONS>
            Require valid-user
        </LimitExcept>
    </Directory>

    ErrorLog /logs/webdav_error.log
    CustomLog /logs/webdav_access.log combined
</VirtualHost>
